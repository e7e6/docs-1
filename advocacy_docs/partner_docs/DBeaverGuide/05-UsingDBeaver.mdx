---
title: 'Using DBeaver'
description: 'Walkthroughs of example usage scenarios'
---
Once an instance of EDB Postgres Advanced Server/EDB Postgres Extended Server is connected to DBeaver, you can access the capabilities of the integration demonstrated in the following sample user scenarios. 


# Sample User scenarios

## Working with the Connected Database

- **Create:** Creating a table in DBeaver with one column of the type VARCHAR and one of the type NUMERIC. This table has been created in an EDB Postgres Advanced Server instance. 

<p align="center">
  <img src="Images/TableCreatedInEPAS.png">
</p>

- **Rename:** Altering the table
- **Delete:** Dropping the table
- **Rename:** Altering the table
- **Delete:** Dropping the table
- **View Table:** Table definition
- **View Data:** Table data
- **View Diagram:** ERD
- **Read data in SQL**
- **Copy & Paste:** Creating a copy of the table
- **Execute Stored Procedure:** Under `public â†’ Functions`, Right click `Stored Procedure` and select `Execute Stored Procedure`, Click the `Play` button or press `Ctrl+Enter`, Enter the values for input parameters and click `OK`.

<p align="center">
  <img src="Images/ExecuteStoredProcedure.png">
</p>

This is the result of executing select_emp stored procedure:

<p align="center">
  <img src="Images/SelectEMPStoredProcedure.png">
</p>

- **View Data Options:**

**Advanced Copy:**
<p align="center">
  <img src="Images/AdvancedCopy.png">
</p>

**Generate SQL:**
<p align="center">
  <img src="Images/GenerateSQL.png">
</p>

**Open With:**
<p align="center">
  <img src="Images/OpenWith.png">
</p>

- **Export Data:** These are all the following export options. 
<p align="center">
  <img src="Images/ExportData.png">
</p>

- **Import Data:** These are all the following import options. 
<p align="center">
  <img src="Images/ImportData.png">
</p>

- **Generate SQL:**

**SELECT, INSERT, UPDATE and DELETE**
  ```
    SELECT
    SELECT empno, ename, job, mgr, hiredate, sal, comm, deptno
    FROM public.emp;

    INSERT
    INSERT INTO public.emp
    (empno, ename, job, mgr, hiredate, sal, comm, deptno)
    VALUES(0, '', '', 0, '', 0, 0, 0);

    UPDATE
    UPDATE public.emp
    SET ename='', job='', mgr=0, hiredate='', sal=0, comm=0, deptno=0
    WHERE empno=0;

    DELETE
    DELETE FROM public.emp
    WHERE empno=0;
   ```

**MERGE**
   ```
    MERGE INTO public.emp AS tgt
    USING SOURCE_TABLE AS src
    ON (tgt.empno=src.empno)
    WHEN MATCHED
    THEN UPDATE SET
    tgt.tableoid=src.tableoid, tgt.cmax=src.cmax, tgt.xmax=src.xmax, tgt.cmin=src.cmin, tgt.xmin=src.xmin, tgt.ctid=src.ctid, tgt.ename=src.ename, tgt.job=src.job, tgt.mgr=src.mgr, tgt.hiredate=src.hiredate, tgt.sal=src.sal, tgt.comm=src.comm, tgt.deptno=src.deptno
    WHEN NOT MATCHED
    THEN INSERT (tableoid, cmax, xmax, cmin, xmin, ctid, empno, ename, job, mgr, hiredate, sal, comm, deptno)
    VALUES (src.tableoid, src.cmax, src.xmax, src.cmin, src.xmin, src.ctid, src.empno, src.ename, src.job, src.mgr, src.hiredate, src.sal, src.comm, src.deptno);
   ```
   
**DDL**
   ```
    -- public.emp definition

-- Drop table

-- DROP TABLE public.emp;

CREATE TABLE public.emp (
	empno numeric(4) NOT NULL,
	ename varchar(10) NULL,
	job varchar(9) NULL,
	mgr numeric(4) NULL,
	hiredate timestamp NULL,
	sal numeric(7, 2) NULL,
	comm numeric(7, 2) NULL,
	deptno numeric(2) NULL,
	CONSTRAINT emp_pk PRIMARY KEY (empno),
	CONSTRAINT emp_sal_ck CHECK ((sal > (0)::numeric))
);

-- Table Triggers

create trigger user_audit_trig after
insert
    or
delete
    or
update
    on
    public.emp for each statement $trigger$DECLARE
    v_action VARCHAR2(24);

begin
    if INSERTING then
        v_action := ' added employee(s) on ';

elsif UPDATING then
        v_action := ' updated employee(s) on ';

elsif DELETING then
        v_action := ' deleted employee(s) on ';
end if;

DBMS_OUTPUT.PUT_LINE('User ' || user || v_action || TO_CHAR(SYSDATE, 'YYYY-MM-DD'));

END$trigger$;
create trigger emp_sal_trig before
insert
    or
delete
    or
update
    on
    public.emp for each row $trigger$DECLARE
    sal_diff NUMBER;

begin
    if INSERTING then
        DBMS_OUTPUT.PUT_LINE('Inserting employee ' || :NEW.empno);

DBMS_OUTPUT.PUT_LINE('..New salary: ' || :NEW.sal);
end if;

if UPDATING then
        sal_diff := :NEW.sal - :OLD.sal;

DBMS_OUTPUT.PUT_LINE('Updating employee ' || :OLD.empno);

DBMS_OUTPUT.PUT_LINE('..Old salary: ' || :OLD.sal);

DBMS_OUTPUT.PUT_LINE('..New salary: ' || :NEW.sal);

DBMS_OUTPUT.PUT_LINE('..Raise     : ' || sal_diff);
end if;

if DELETING then
        DBMS_OUTPUT.PUT_LINE('Deleting employee ' || :OLD.empno);

DBMS_OUTPUT.PUT_LINE('..Old salary: ' || :OLD.sal);
end if;

END$trigger$;


-- public.emp foreign keys

ALTER TABLE public.emp ADD CONSTRAINT emp_ref_dept_fk FOREIGN KEY (deptno) REFERENCES public.dept(deptno);


   ```
